document.addEventListener("DOMContentLoaded", function() {
    const products = JSON.parse(localStorage.getItem('products')) || [];

    const maisPedidosDiv = document.querySelector('#os-mais-pedidos .products');
    const monteDoSeuJeitoDiv = document.querySelector('#monte-do-seu-jeito .products');

    function displayProducts(productList, container) {
        container.innerHTML = '';
        productList.forEach(product => {
            const productDiv = document.createElement('div');
            productDiv.classList.add('product');
            productDiv.innerHTML = `
                <a href="${product.url}" target="_blank">
                    <img src="${product.image}" alt="${product.name}">
                </a>
                <div class="product-details">
                    <h3>${product.name}</h3>
                    <p>${product.description}</p>
                    <p><strong>Pre√ßo:</strong> R$ ${product.price}</p>
                </div>
            `;
            container.appendChild(productDiv);
        });
    }

    displayProducts(products.filter(p => p.category === 'mais-pedidos'), maisPedidosDiv);
    displayProducts(products.filter(p => p.category === 'monte-do-seu-jeito'), monteDoSeuJeitoDiv);
});
