<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Página de Pagamento</title>
    <link rel="stylesheet" href="pagina_de_pagamento.css">
    <script src="https://www.gstatic.com/firebasejs/8.6.8/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.6.8/firebase-firestore.js"></script>
    <script>
        const firebaseConfig = {
            apiKey: "AIzaSyB-pF2lRStLTN9Xw9aYQj962qdNFyUXI2E",
            authDomain: "cabana-8d55e.firebaseapp.com",
            databaseURL: "https://cabana-8d55e-default-rtdb.firebaseio.com",
            projectId: "cabana-8d55e",
            storageBucket: "cabana-8d55e.appspot.com",
            messagingSenderId: "706144237954",
            appId: "1:706144237954:web:345c10370972486afc779b",
            measurementId: "G-96Y337GYT8"
        };

        firebase.initializeApp(firebaseConfig);
        const db = firebase.firestore();
    </script>
    <style>
        /* Insira aqui o conteúdo de pagina_de_pagamento.css, caso não esteja usando um arquivo CSS separado */
    </style>
</head>
<body>
    <nav>
        <a href="index.html">Início</a>
        <a href="promos.html">Promos</a>
        <a href="carrinho.html">Carrinho</a>
    </nav>

    <div class="container">
        <h1>Página de Pagamento</h1>
        <form id="formulario-pagamento">
            <div class="form-group">
                <label for="nome-sobrenome">Nome e Sobrenome:</label>
                <input type="text" id="nome-sobrenome" name="nome-sobrenome" required>
            </div>
            
            <div class="form-row">
                <div class="form-group">
                    <label for="cep">CEP:</label>
                    <input type="text" id="cep" name="cep" pattern="\d{5}-?\d{3}" placeholder="12345-678" required oninput="consultarCep()">
                    <p id="resultado-cep"></p>
                </div>
                <div class="form-group">
                    <label for="telefone">Telefone (com DDD):</label>
                    <input type="tel" id="telefone" name="telefone" pattern="\d{11}" placeholder="84988731028" required>
                </div>
            </div>
            
            <div class="form-row">
                <div class="form-group">
                    <label for="endereco">Endereço:</label>
                    <input type="text" id="endereco" name="endereco" required>
                </div>
                <div class="form-group">
                    <label for="numero">Número:</label>
                    <input type="text" id="numero" name="numero" required>
                </div>
            </div>
            
            <div class="form-group">
                <label for="complemento">Complemento:</label>
                <input type="text" id="complemento" name="complemento">
            </div>

            <h2>Opções de Pagamento</h2>
            <div class="form-group">
                <label>
                    <input type="radio" name="payment-method" value="dinheiro" required> Dinheiro
                </label>
                <label>
                    <input type="radio" name="payment-method" value="cartao" required> Cartão
                </label>
                <label>
                    <input type="radio" name="payment-method" value="pix" required onclick="showPixMessage()"> PIX
                </label>
                <p id="pix-info" class="pix-message" style="display:none;">Nosso PIX: 84 9 8873-1028 (Pagseguro). Envie o comprovante para nosso whatsapp após finalizar este pedido.</p>
            </div>

            <div id="troco-section" class="form-group" style="display:none;">
                <label for="troco">Precisa de troco para:</label>
                <input type="text" id="troco" name="troco">
            </div>

            <h2>Opções de Entrega</h2>
            <div class="form-group">
                <label>
                    <input type="checkbox" name="delivery-option" value="motoboy" checked disabled> Motoboy (R$ 3,00)
                </label>
            </div>

            <div class="summary">
                <h3>Resumo do Pedido</h3>
                <p>Subtotal: <span id="subtotal">R$ 0,00</span></p>
                <p>Taxa de Entrega: R$ 3,00</p>
                <p>Desconto: <span id="desconto">R$ 0,00</span></p>
                <p>Total: <span id="total">R$ 0,00</span></p>
            </div>

            <div class="form-group">
                <label for="cupom">Código do Cupom:</label>
                <input type="text" id="cupom" name="cupom" placeholder="Digite um cupom de desconto aqui caso possua.">
            </div>

            <div class="buttons">
                <button class="button button-whatsapp" id="botao-finalizar-pedido" type="button" onclick="enviarPedidoWhatsApp()">
                    <img src="https://img.icons8.com/ios-filled/24/ffffff/whatsapp.png" alt="WhatsApp" class="button-icon">
                    Enviar pedido pelo WhatsApp
                </button>
                <a href="index.html" class="button button-secondary">Adicionar mais itens</a>
                <a href="carrinho.html" class="button button-secondary" id="botao-editar-pedido">Editar pedido</a>
            </div>
        </form>
    </div>

    <script src="pagina_de_pagamento.js"></script>
</body>
</html>
